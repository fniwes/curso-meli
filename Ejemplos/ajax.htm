<!DOCTYPE html>
<html>
	<head>
		<title>Ejemplo ajax</title>
		<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
	</head>

	<body>
		<h1>Consulta a API mercado libre</h1>
		<ol id="respuesta_api">
			<!-- Aca adentro ira la respuesta de mercado libre -->
		</ol>

		<script type="text/javascript">
			console.log("Punto 1");
			var promise = $.get("https://api.mercadolibre.com/sites/MLA/search", { q: "pelopincho", offset: 2 });

			console.log("Punto 2");
			promise.done( mostrarResultado );
			console.log("Punto 3");
			promise.fail( mostrarError );

			console.log("Punto 4");
			function mostrarResultado( data ) {
				console.log("Punto 5");
				$.each( data.results, agregarResultado )
			}

			function agregarResultado(index, item) {
				console.log(item.title);
				$("#respuesta_api").append( "<li>" + item.title + "</li>" );
			}

			function mostrarError() {
				console.log("Punto 6");
				$("#respuesta_api").html( "<li>Se produjo un errors</li>" );
			}
			console.log("Punto 7");
		</script>
	</body>
</html>